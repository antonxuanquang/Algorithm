package introduction;

import java.util.ArrayList;

public class HeapSort extends Sort {
	
	public static <T extends Comparable<T>> void sort(ArrayList<T> array) {
		int size = array.size() - 1;
		for (int k = size / 2; k >= 0; k--) {
			heapify(array, k);
		}
		while (size > 1) {
			swap(array, 0, size--);
			heapify(array, 0);
		}
	}
	
	private static <T extends Comparable<T>> void heapify(
			ArrayList<T> array, int startPoint) {
		while (2 * startPoint <= size) {
			int leave = 2 * startPoint;
			if (leave < size &&
					array.get(leave).compareTo(array.get(leave + 1)) < 0) {
				leave++;
			}
			if (!(array.get(leave).compareTo(array.get(leave + 1)) < 0)) break;
			swap(array, startPoint, leave);
			startPoint = leave;
		}
	}
	
	

}
